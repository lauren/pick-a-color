/*! Pick-a-Color v1.1.8 | Copyright 2013 Lauren Sperber and Broadstreet Ads https://github.com/lauren/pick-a-color/blob/master/LICENSE | pick-a-color 2013-09-30 */
!function(a){"use strict";a.fn.pickAColor=function(b){var c="ontouchstart"in window,e=(parseInt(a(window).width(),10)<767?!0:!1,"localStorage"in window&&null!==window.localStorage&&"object"==typeof JSON),f=document.all&&!window.atob,g=c?"touchstart.pickAColor":"mousedown.pickAColor",h=c?"touchmove.pickAColor":"mousemove.pickAColor",i=c?"touchend.pickAColor":"mouseup.pickAColor",j=c?"touchend.pickAColor":"click.pickAColor",k="dragging.pickAColor",l="endDrag.pickAColor",m=a.extend({showSpectrum:!0,showSavedColors:!0,saveColorsPerElement:!1,fadeMenuToggle:!0,showAdvanced:!0,showBasicColors:!0,showHexInput:!0,allowBlank:!1,basicColors:{white:"fff",red:"f00",orange:"f60",yellow:"ff0",green:"008000",blue:"00f",purple:"800080",black:"000"}},b);m.showAdvanced||m.showBasicColors||(m.showBasicColors=!0);var n=m.showSavedColors&&m.showAdvanced||m.showBasicColors&&m.showSavedColors||m.showBasicColors&&m.showAdvanced,o=function(){var b=a("<div>").addClass("btn-group"),c=a("<button type='button'>").addClass("btn color-dropdown dropdown-toggle"),d=a("<span>").addClass("color-preview current-color"),e=a("<span>").addClass("caret"),g=a("<div>").addClass("color-menu dropdown-menu");if(m.showHexInput||(c.addClass("no-hex"),g.addClass("no-hex")),b.append(c.append(d).append(e)),n||m.showSpectrum||g.addClass("small"),n){var h=a("<div>").addClass("color-menu-tabs"),i=m.showBasicColors?"savedColors-tab tab":"savedColors-tab tab tab-active";m.showBasicColors&&h.append(a("<span>").addClass("basicColors-tab tab tab-active").append(a("<a>").text("Basic Colors"))),m.showSavedColors&&h.append(a("<span>").addClass(i).append(a("<a>").text("Saved Colors"))),m.showAdvanced&&h.append(a("<span>").addClass("advanced-tab tab").append(a("<a>").text("Advanced"))),g.append(h)}if(m.showBasicColors){var j=a("<div>").addClass("basicColors-content active-content");m.showSpectrum&&j.append(a("<h6>").addClass("color-menu-instructions").text("Tap spectrum or drag band to change color"));var k=a("<ul>").addClass("basic-colors-list");a.each(m.basicColors,function(b,c){var d=a("<li>").addClass("color-item"),e=a("<a>").addClass(b+" color-link"),g=a("<span>").addClass("color-preview "+b),h=a("<span>").addClass("color-label").text(b);if(e.append(g,h),g.append(),"#"!==c[0]&&(c="#"+c),g.css("background-color",c),m.showSpectrum){var i=a("<span>").addClass("color-box spectrum-"+b);f&&a.each([0,1],function(d){"fff"!==c&&"000"!==b&&i.append(a("<span>").addClass(b+"-spectrum-"+d+" ie-spectrum"))});var j=a("<span>").addClass("highlight-band");a.each([0,1,2],function(){j.append(a("<span>").addClass("highlight-band-stripe"))}),e.append(i.append(j))}k.append(d.append(e))}),g.append(j.append(k))}if(m.showSavedColors){var l=m.showBasicColors?"inactive-content":"active-content",o=a("<div>").addClass("savedColors-content").addClass(l);o.append(a("<p>").addClass("saved-colors-instructions").text("Type in a color or use the spectrums to lighten or darken an existing color.")),g.append(o)}if(m.showAdvanced){var p=m.showBasicColors||m.showSavedColors?"inactive-content":"active-content",q=a("<div>").addClass("advanced-content").addClass(p).append(a("<h6>").addClass("advanced-instructions").text("Tap spectrum or drag band to change color")),r=a("<ul>").addClass("advanced-list"),s=a("<li>").addClass("hue-item"),t=a("<span>").addClass("hue-text").text("Hue: ").append(a("<span>").addClass("hue-value").text("0")),u=a("<span>").addClass("color-box spectrum-hue");f&&a.each([0,1,2,3,4,5,6],function(b){u.append(a("<span>").addClass("hue-spectrum-"+b+" ie-spectrum hue"))});var v=a("<span>").addClass("highlight-band");a.each([0,1,2],function(){v.append(a("<span>").addClass("highlight-band-stripe"))}),r.append(s.append(t).append(u.append(v)));var w=a("<li>").addClass("lightness-item"),x=a("<span>").addClass("color-box spectrum-lightness"),y=a("<span>").addClass("lightness-text").text("Lightness: ").append(a("<span>").addClass("lightness-value").text("50%"));f&&a.each([0,1],function(b){x.append(a("<span>").addClass("lightness-spectrum-"+b+" ie-spectrum"))});var z=a("<span>").addClass("highlight-band");a.each([0,1,2],function(){z.append(a("<span>").addClass("highlight-band-stripe"))}),r.append(w.append(y).append(x.append(z)));var A=a("<li>").addClass("saturation-item"),B=a("<span>").addClass("color-box spectrum-saturation");f&&a.each([0,1],function(b){B.append(a("<span>").addClass("saturation-spectrum-"+b+" ie-spectrum"))});var C=a("<span>").addClass("highlight-band");a.each([0,1,2],function(){C.append(a("<span>").addClass("highlight-band-stripe"))});var D=a("<span>").addClass("saturation-text").text("Saturation: ").append(a("<span>").addClass("saturation-value").text("100%"));r.append(A.append(D).append(B.append(C)));var E=a("<li>").addClass("preview-item").append(a("<span>").addClass("preview-text").text("Preview")),F=a("<span>").addClass("color-preview advanced").append("<button class='color-select btn btn-mini advanced' type='button'>Select</button>");r.append(E.append(F)),g.append(q.append(r))}return b.append(g),b},p={},q={rowsInDropdown:8,maxColsInDropdown:2};if(m.showSavedColors){var r=[];if(e&&localStorage.allSavedColors)r=JSON.parse(localStorage.allSavedColors);else if(document.cookie.match("pickAColorSavedColors-allSavedColors=")){var s=document.cookie.split(";");a.each(s,function(a){s[a].match("pickAColorSavedColors-allSavedColors=")&&(r=s[a].split("=")[1].split(","))})}}var t={initialize:function(b){var d,e,c=a(this);c.attr("name")||c.attr("name","pick-a-color-"+b),e=c.attr("name"),c.addClass("pick-a-color"),m.allowBlank?c.val().match(/^\s+$|^$/)||(p.defaultColor=tinycolor(c.val()).toHex(),p.typedColor=p.defaultColor,c.val(p.defaultColor)):(p.defaultColor=tinycolor(c.val()).toHex(),p.typedColor=p.defaultColor,c.val(p.defaultColor)),a(c).wrap('<div class="input-prepend input-append pick-a-color-markup" id="'+e+'">'),d=a(c.parent()),m.showHexInput?d.prepend('<span class="hex-pound add-on">#</span>').append(o()):d.append(o()),m.showHexInput||c.attr("type","hidden")},updatePreview:function(a){m.allowBlank?(p.typedColor=a.val().match(/^\s+$|^$/)?"":tinycolor(a.val()).toHex(),""===p.typedColor?a.siblings(".btn-group").find(".current-color").css("background","none"):a.siblings(".btn-group").find(".current-color").css("background-color","#"+p.typedColor)):(p.typedColor=tinycolor(a.val()).toHex(),a.siblings(".btn-group").find(".current-color").css("background-color","#"+p.typedColor))},pressPreviewButton:function(){var a=arguments[0].thisEvent;a.stopPropagation(),t.toggleDropdown(a.target)},openDropdown:function(b,d){a(".color-menu").each(function(){var b=a(this);if("block"===b.css("display")){var c=b.parents(".btn-group");t.closeDropdown(c,b)}}),m.fadeMenuToggle&&!c?a(d).fadeIn("fast"):a(d).show(),a(b).addClass("open")},closeDropdown:function(b,d){m.fadeMenuToggle&&!c?a(d).fadeOut("fast"):a(d).css("display","none"),a(b).removeClass("open")},closeDropdownIfOpen:function(){var a=arguments[0].button,b=arguments[0].menu;"block"===b.css("display")&&t.closeDropdown(a,b)},toggleDropdown:function(b){var c=a(b).parents(".pick-a-color-markup"),d=c.find(".btn-group"),e=c.find(".color-menu");"none"===e.css("display")?t.openDropdown(d,e):t.closeDropdown(d,e)},tabbable:function(){var b=a(this),c=b.parents(".pick-a-color-markup");b.click(function(){var b=a(this),d=b.attr("class").split(" ")[0].split("-")[0]+"-content",e=b.parents(".dropdown-menu").find("."+d);b.hasClass("tab-active")||(c.find(".tab-active").removeClass("tab-active"),c.find(".active-content").removeClass("active-content").addClass("inactive-content"),b.addClass("tab-active"),a(e).addClass("active-content").removeClass("inactive-content"))})},getColorMultiplier:function(b,d,e){var f="basic"===e?parseInt(a(".color-box").first().width(),10):parseInt(a(".advanced-list").find(".color-box").first().width(),10);0===f&&(f="basic"===e?c?160:200:c?160:300);var g=f/2,h=d/f;return"bidirectional"===b?.5>=h?(1-d/g)/2:-((d-g)/g)/2:"darkenRight"===b?-(h/2):h/2},modifyHSLLightness:function(a,b){var c=a;return c.l+=b,c.l=Math.min(Math.max(0,c.l),1),tinycolor(c).toHslString()},getMoveableArea:function(a){var b={},c=a.parent(),d=a.outerWidth(),e=c.width(),f=c.offset();return b.minX=f.left,b.maxX=e-d,b},moveHighlightBand:function(b,d,e){var f=a(".highlight-band").first().outerWidth(),g=.75*f,h=c?e.originalEvent.pageX:e.pageX,i=h-d.minX-g;i=Math.max(0,Math.min(i,d.maxX)),b.css("position","absolute"),b.css("left",i)},horizontallyDraggable:function(){a(this).on(g,function(b){b.preventDefault();var c=a(b.delegateTarget);c.css("cursor","-webkit-grabbing"),c.css("cursor","-moz-grabbing");var d=t.getMoveableArea(c);a(document).on(h,function(a){c.trigger(k),t.moveHighlightBand(c,d,a)}).on(i,function(){a(document).off(h),a(document).off(k),c.css("cursor","-webkit-grab"),c.css("cursor","-moz-grab"),c.trigger(l),a(document).off(i)})}).on(i,function(b){b.stopPropagation(),a(document).off(h),a(document).off(k)})},modifyHighlightBand:function(a,b,c){var d={h:0,s:0,l:.05},e={h:0,s:0,l:.5},f=-b,h=a.find(".highlight-band-stripe"),i="lightenRight"===c?t.modifyHSLLightness(e,f):t.modifyHSLLightness(d,f);a.css("border-color",i),h.css("background-color",i)},calculateHighlightedColor:function(){var g,h,i,j,k,l,n,o,b=a(this),c=b.parent(),d=a(".highlight-band").first().outerWidth(),e=d/2,f=arguments[0].type;if("basic"===f){var p=c.attr("class").split("-")[2],q=m.basicColors[p];switch(h=tinycolor(q).toHsl(),q){case"fff":g="darkenRight";break;case"000":g="lightenRight";break;default:g="bidirectional"}}else{var r=b.parents(".advanced-list");j=arguments[0].hsl.s,n=r.find(".spectrum-hue"),i=arguments[0].hsl.h,l=r.find(".spectrum-saturation"),o=r.find(".lightness-value"),k=r.find(".color-preview"),h={h:arguments[0].hsl.h,l:.5,s:arguments[0].hsl.s},g="bidirectional"}var s=parseInt(b.css("left"),10)+e,u=t.getColorMultiplier(g,s,f),v=t.modifyHSLLightness(h,u),w="#"+tinycolor(v).toHex(),x=v.split("(")[1].split(")")[0].split(",")[2],y=parseInt(x.split("%")[0],10)/100;return"basic"===f?(c.siblings(".color-preview").css("background-color",w),c.prev(".color-label").replaceWith('<button class="color-select btn btn-mini" type="button">Select</button>'),"darkenRight"!==g&&t.modifyHighlightBand(b,u,g)):(k.css("background-color",w),o.text(x),t.updateSaturationStyles(l,i,y),t.updateHueStyles(n,j,y),t.modifyHighlightBand(a(".advanced-content .highlight-band"),u,g)),"basic"===f?tinycolor(v).toHex():y},updateSavedColorPreview:function(b){a.each(b,function(c){var d=a(b[c]),e=d.attr("class");d.find(".color-preview").css("background-color",e)})},updateSavedColorMarkup:function(b,c){if(c=c?c:r,m.showSavedColors&&c.length>0){m.saveColorsPerElement||(b=a(".savedColors-content"),c=r);var d=q.rowsInDropdown*q.maxColsInDropdown;c=c.slice(0,d);var e=a("<ul>").addClass("saved-color-col 0"),f=a("<ul>").addClass("saved-color-col 1");a.each(c,function(b,c){var d=a("<li>").addClass("color-item"),g=a("<a>").addClass(c);g.append(a("<span>").addClass("color-preview")),g.append(a("<span>").addClass("color-label").text(c)),d.append(g),0===b%2?e.append(d):f.append(d)}),b.html(e),b.append(f);var g=a(b).find("a");t.updateSavedColorPreview(g)}},setSavedColorsCookie:function(a,b){var c=new Date,d=31536e7,e=new Date(c.getTime()+d);e=e.toGMTString(),document.cookie="undefined"==typeof b?"pickAColorSavedColors-allSavedColors="+a+";expires="+e:"pickAColorSavedColors-"+b+"="+a+"; expires="+e},saveColorsToLocalStorage:function(a,b){if(e)if("undefined"==typeof b)try{localStorage.allSavedColors=JSON.stringify(a)}catch(c){localStorage.clear()}else try{localStorage["pickAColorSavedColors-"+b]=JSON.stringify(a)}catch(c){localStorage.clear()}else t.setSavedColorsCookie(a,b)},removeFromArray:function(b,c){-1!==a.inArray(c,b)&&b.splice(a.inArray(c,b),1)},updateSavedColors:function(a,b,c){t.removeFromArray(b,a),b.unshift(a),t.saveColorsToLocalStorage(b,c)},addToSavedColors:function(a,b,c){if(m.showSavedColors&&void 0!==a)if("#"!=a[0]&&(a="#"+a),t.updateSavedColors(a,r),m.saveColorsPerElement){var d=b.colors,e=b.dataAttr;t.updateSavedColors(a,d,e),t.updateSavedColorMarkup(c,d)}else t.updateSavedColorMarkup(c,r)},selectFromBasicColors:function(){var b=a(this).find("span:first").css("background-color"),c=arguments[0].els,d=arguments[0].savedColorsInfo;b=tinycolor(b).toHex(),a(c.thisEl).val(b),a(c.thisEl).trigger("change"),t.updatePreview(c.thisEl),t.addToSavedColors(b,d,c.savedColorsContent),t.closeDropdown(c.colorPreviewButton,c.colorMenu)},tapSpectrum:function(){var b=arguments[0].thisEvent,d=arguments[0].savedColorsInfo,e=arguments[0].els,f=arguments[0].mostRecentClick;b.stopPropagation();var g=a(this).find(".highlight-band"),h=t.getMoveableArea(g);c?t.moveHighlightBand(g,h,f):t.moveHighlightBand(g,h,b);var i=t.calculateHighlightedColor.apply(g,[{type:"basic"}]);t.addToSavedColors(i,d,e.savedColorsContent),e.touchInstructions.html("Press 'select' to choose this color")},executeUnlessScrolled:function(){var e,f,b=arguments[0].thisFunction,d=arguments[0].theseArguments;a(this).on(g,function(b){e=a(window).scrollTop(),f=b}).on(j,function(g){var h=e-a(window).scrollTop();return c&&Math.abs(h)>0?!1:(d.thisEvent=g,d.mostRecentClick=f,b.apply(a(this),[d]),void 0)})},updateSaturationStyles:function(b,c,d){var e=(100*d).toString()+"%",g="#"+tinycolor("hsl("+c+",0%,"+e).toHex(),h="#"+tinycolor("hsl("+c+",50%,"+e).toHex(),i="#"+tinycolor("hsl("+c+",100%,"+e).toHex(),j="",l=(a.each(["-webkit-linear-gradient","-o-linear-gradient"],function(a,b){j+="background-image: "+b+"(left, "+g+" 0%, "+h+" 50%, "+i+" 100%);"}),"progid:DXImageTransform.Microsoft.gradient(startColorstr='"+g+"', endColorstr='"+h+"', GradientType=1)"),m="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+h+"', endColorstr='"+i+"', GradientType=1)";if(j="background-image: -moz-linear-gradient(left center, "+g+" 0%, "+h+" 50%, "+i+" 100%);"+"background-image: linear-gradient(to right, "+g+" 0%, "+h+" 50%, "+i+" 100%); "+"background-image: -webkit-gradient(linear, left top, right top,"+"color-stop(0, "+g+"),"+"color-stop(0.5, "+h+"),"+"color-stop(1, "+i+"));"+j,f){var n=a(b).find(".saturation-spectrum-0"),o=a(b).find(".saturation-spectrum-1");n.css("filter",l),o.css("filter",m)}else b.attr("style",j)},updateLightnessStyles:function(b,c,d){var e=(100*d).toString()+"%",g="#"+tinycolor("hsl("+c+","+e+",100%)").toHex(),h="#"+tinycolor("hsl("+c+","+e+",50%)").toHex(),i="#"+tinycolor("hsl("+c+","+e+",0%)").toHex(),j="",l=(a.each(["-webkit-linear-gradient","-o-linear-gradient"],function(a,b){j+="background-image: "+b+"(left, "+g+" 0%, "+h+" 50%, "+i+" 100%);"}),"progid:DXImageTransform.Microsoft.gradient(startColorstr='"+g+"', endColorstr='"+h+"', GradientType=1)"),m="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+h+"', endColorstr='"+i+"', GradientType=1)";if(j="background-image: -moz-linear-gradient(left center, "+g+" 0%, "+h+" 50%, "+i+" 100%); "+"background-image: linear-gradient(to right, "+g+" 0%, "+h+" 50%, "+i+" 100%); "+"background-image: -webkit-gradient(linear, left top, right top,"+" color-stop(0, "+g+"),"+" color-stop(0.5, "+h+"),"+" color-stop(1, "+i+")); "+j,f){var n=a(b).find(".lightness-spectrum-0"),o=a(b).find(".lightness-spectrum-1");n.css("filter",l),o.css("filter",m)}else b.attr("style",j)},updateHueStyles:function(b,c,d){var e=(100*c).toString()+"%",g=(100*d).toString()+"%",h="#"+tinycolor("hsl(0,"+e+","+g+")").toHex(),i="#"+tinycolor("hsl(60,"+e+","+g+")").toHex(),j="#"+tinycolor("hsl(120,"+e+","+g+")").toHex(),k="#"+tinycolor("hsl(180,"+e+","+g+")").toHex(),l="#"+tinycolor("hsl(240,"+e+","+g+")").toHex(),m="#"+tinycolor("hsl(300,"+e+","+g+")").toHex(),n="#"+tinycolor("hsl(0,"+e+","+g+")").toHex(),o="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+h+"', endColorstr='"+i+"', GradientType=1)",p="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+i+"', endColorstr='"+j+"', GradientType=1)",q="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+j+"', endColorstr='"+k+"', GradientType=1)",r="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+k+"', endColorstr='"+l+"', GradientType=1)",s="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+l+"', endColorstr='"+m+"', GradientType=1)",t="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+m+"', endColorstr='"+n+"', GradientType=1)",u="";if(a.each(["-webkit-linear-gradient","-o-linear-gradient"],function(a,b){u+="background-image: "+b+"(left, "+h+" 0%, "+i+" 17%, "+j+" 24%, "+k+" 51%, "+l+" 68%, "+m+" 85%, "+n+" 100%);"}),u+="background-image: -webkit-gradient(linear, left top, right top,color-stop(0%, "+h+"),"+"color-stop(17%, "+i+"),"+"color-stop(34%, "+j+"),"+"color-stop(51%, "+k+"),"+"color-stop(68%, "+l+"),"+"color-stop(85%, "+m+"),"+"color-stop(100%, "+n+"));"+"background-image: linear-gradient(to right, "+h+" 0%, "+i+" 17%, "+j+" 24%,"+k+" 51%,"+l+" 68%,"+m+" 85%,"+n+" 100%); "+"background-image: -moz-linear-gradient(left center, "+h+" 0%, "+i+" 17%, "+j+" 24%, "+k+" 51%, "+l+" 68%, "+m+" 85%, "+n+" 100%);",f){var w=a(b).find(".hue-spectrum-0"),x=a(b).find(".hue-spectrum-1"),y=a(b).find(".hue-spectrum-2"),z=a(b).find(".hue-spectrum-3"),A=a(b).find(".hue-spectrum-4"),B=a(b).find(".hue-spectrum-5");w.css("filter",o),x.css("filter",p),y.css("filter",q),z.css("filter",r),A.css("filter",s),B.css("filter",t)}else b.attr("style",u)},getHighlightedHue:function(){var b=a(this),d=b.outerWidth(),e=d/2,f=parseInt(b.css("left"),10)+e,g=b.parents(".advanced-list"),h=g.find(".color-preview"),i=g.find(".spectrum-lightness"),j=g.find(".spectrum-saturation"),k=parseInt(g.find(".color-box").first().width(),10),l=g.find(".hue-value"),m=arguments[0].l,n=arguments[0].s,o=(100*n).toString()+"%",p=(100*m).toString()+"%";0===k&&(k=c?160:300);var q=Math.floor(360*(f/k)),r="hsl("+q+","+o+","+p+")";return r="#"+tinycolor(r).toHex(),h.css("background-color",r),l.text(q),t.updateLightnessStyles(i,q,n),t.updateSaturationStyles(j,q,m),q},getHighlightedSaturation:function(){var b=a(this),d=b.outerWidth(),e=d/2,f=parseInt(b.css("left"),10)+e,g=b.parents(".advanced-list"),h=g.find(".color-preview"),i=g.find(".spectrum-lightness"),j=g.find(".spectrum-hue"),k=g.find(".saturation-value"),l=parseInt(g.find(".color-box").first().width(),10),m=arguments[0].l,n=(100*m).toString()+"%",o=arguments[0].h;0===l&&(l=c?160:300);var p=f/l,q=Math.round(100*p).toString()+"%",r="hsl("+o+","+q+","+n+")";return r="#"+tinycolor(r).toHex(),h.css("background-color",r),k.text(q),t.updateLightnessStyles(i,o,p),t.updateHueStyles(j,p,m),p},updateAdvancedInstructions:function(a){a.html("Press the color preview to choose this color")}};return this.each(function(b){t.initialize.apply(this,[b]);var g,h,c={thisEl:a(this),thisWrapper:a(this).parent(),colorTextInput:a(this).find("input"),colorMenuLinks:a(this).parent().find(".color-menu li a"),colorPreviewButton:a(this).parent().find(".btn-group"),colorMenu:a(this).parent().find(".color-menu"),colorSpectrums:a(this).parent().find(".color-box"),basicSpectrums:a(this).parent().find(".basicColors-content .color-box"),touchInstructions:a(this).parent().find(".color-menu-instructions"),advancedInstructions:a(this).parent().find(".advanced-instructions"),highlightBands:a(this).parent().find(".highlight-band"),basicHighlightBands:a(this).parent().find(".basicColors-content .highlight-band")};if(n&&(c.tabs=c.thisWrapper.find(".tab")),m.showSavedColors&&(c.savedColorsContent=c.thisWrapper.find(".savedColors-content"),m.saveColorsPerElement))if(h={colors:[],dataObj:a(this).data()},a.each(h.dataObj,function(a){h.dataAttr=a}),e&&localStorage["pickAColorSavedColors-"+h.dataAttr])h.colors=JSON.parse(localStorage["pickAColorSavedColors-"+h.dataAttr]);else if(document.cookie.match("pickAColorSavedColors-"+h.dataAttr))for(var o=document.cookie.split(";"),q=0;q<o.length;q++)o[q].match(h.dataAttr)&&(h.colors=o[q].split("=")[1].split(","));else h.colors=r;m.showAdvanced&&(g={h:0,s:1,l:.5},c.advancedSpectrums=c.thisWrapper.find(".advanced-list").find(".color-box"),c.advancedHighlightBands=c.thisWrapper.find(".advanced-list").find(".highlight-band"),c.hueSpectrum=c.thisWrapper.find(".spectrum-hue"),c.lightnessSpectrum=c.thisWrapper.find(".spectrum-lightness"),c.saturationSpectrum=c.thisWrapper.find(".spectrum-saturation"),c.hueHighlightBand=c.thisWrapper.find(".spectrum-hue .highlight-band"),c.lightnessHighlightBand=c.thisWrapper.find(".spectrum-lightness .highlight-band"),c.saturationHighlightBand=c.thisWrapper.find(".spectrum-saturation .highlight-band"),c.advancedPreview=c.thisWrapper.find(".advanced-content .color-preview")),t.addToSavedColors(p.defaultColor,h,c.savedColorsContent),t.updatePreview(c.thisEl),c.thisEl.focus(function(){var b=a(this);p.typedColor=b.val(),m.allowBlank||b.val(""),t.toggleDropdown(c.colorPreviewButton,c.ColorMenu)}).blur(function(){var b=a(this);p.newValue=b.val(),p.newValue.match(/^\s+$|^$/)?m.allowBlank||b.val(p.typedColor):(p.newValue=tinycolor(p.newValue).toHex(),b.val(p.newValue),t.addToSavedColors(p.newValue,h,c.savedColorsContent)),t.updatePreview(b)}),t.executeUnlessScrolled.apply(c.colorPreviewButton,[{thisFunction:t.pressPreviewButton,theseArguments:{}}]),t.executeUnlessScrolled.apply(a(document),[{thisFunction:t.closeDropdownIfOpen,theseArguments:{button:c.colorPreviewButton,menu:c.colorMenu}}]),c.colorMenu.on(j,function(a){a.stopPropagation()}),c.thisEl.on(j,function(a){a.stopPropagation()}),t.executeUnlessScrolled.apply(c.colorMenuLinks,[{thisFunction:t.selectFromBasicColors,theseArguments:{els:c,savedColorsInfo:h}}]),n&&t.tabbable.apply(c.tabs),(m.showSpectrum||m.showAdvanced)&&t.horizontallyDraggable.apply(c.highlightBands),m.showSpectrum&&(t.executeUnlessScrolled.apply(c.basicSpectrums,[{thisFunction:t.tapSpectrum,theseArguments:{savedColorsInfo:h,els:c}}]),a(c.basicHighlightBands).on(k,function(a){a.target,t.calculateHighlightedColor.apply(this,[{type:"basic"}])}).on(l,function(a){var b=a.delegateTarget,d=t.calculateHighlightedColor.apply(b,[{type:"basic"}]);t.addToSavedColors(d,h,c.savedColorsContent)})),m.showAdvanced&&(a(c.hueHighlightBand).on(k,function(){g.h=t.getHighlightedHue.apply(this,[g])}),a(c.lightnessHighlightBand).on(k,function(){t.calculateHighlightedColor.apply(this,[{type:"advanced",hsl:g}])}).on(i,function(){g.l=t.calculateHighlightedColor.apply(this,[{type:"advanced",hsl:g}])}),a(c.saturationHighlightBand).on(k,function(){t.getHighlightedSaturation.apply(this,[g])}).on(l,function(){g.s=t.getHighlightedSaturation.apply(this,[g])}),a(c.advancedHighlightBand).on(l,function(){t.updateAdvancedInstructions(c.advancedInstructions)}),a(c.lightnessSpectrum).click(function(b){b.stopPropagation();var c=a(this).find(".highlight-band"),d=t.getMoveableArea(c);t.moveHighlightBand(c,d,b),g.l=t.calculateHighlightedColor.apply(c,[{type:"advanced",hsl:g}])}),a(c.hueSpectrum).click(function(b){b.stopPropagation();var c=a(this).find(".highlight-band"),d=t.getMoveableArea(c);t.moveHighlightBand(c,d,b),g.h=t.getHighlightedHue.apply(c,[g])}),a(c.saturationSpectrum).click(function(b){b.stopPropagation();var c=a(this).find(".highlight-band"),d=t.getMoveableArea(c);t.moveHighlightBand(c,d,b),g.s=t.getHighlightedSaturation.apply(c,[g])}),a(c.advancedSpectrums).click(function(){t.updateAdvancedInstructions(c.advancedInstructions)}),a(c.advancedPreview).click(function(){var b=tinycolor(a(this).css("background-color")).toHex();a(c.thisEl).val(b),a(c.thisEl).trigger("change"),t.updatePreview(c.thisEl),t.addToSavedColors(b,h,c.savedColorsContent),t.closeDropdown(c.colorPreviewButton,c.colorMenu)})),m.showSavedColors&&(a(c.savedColorsContent).click(function(b){var d=a(b.target);if(d.is("SPAN")||d.is("A")){var e=d.is("SPAN")?d.parent().attr("class").split("#")[1]:d.attr("class").split("#")[1];a(c.thisEl).val(e),a(c.thisEl).trigger("change"),t.updatePreview(c.thisEl),t.closeDropdown(c.colorPreviewButton,c.colorMenu),t.addToSavedColors(e,h,c.savedColorsContent)}}),m.saveColorsPerElement?m.saveColorsPerElement&&t.updateSavedColorMarkup(c.savedColorsContent,h.colors):t.updateSavedColorMarkup(c.savedColorsContent,r))})}}(jQuery);